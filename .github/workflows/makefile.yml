name: Share Results Workflow

on: [push]

jobs:
  produce-results:
    runs-on: ubuntu-latest
    outputs:
      result: ${{ steps.generate-output.outputs.result }}
    steps:
      - name: Generate output
        id: generate-output
        run: |
          # Generate the desired output file
          echo "Hello, World!" > output.txt
          echo "::set-output name=result::output.txt"
    # Define the Github Workspace as the result of this job
    outputs:
      Github_Workspace: ${{ github.workspace }}

  consume-results:
    needs: produce-results
    runs-on: ubuntu-latest
    steps:
      - name: Use output from previous job
        run: |
          # Use the file generated by the previous job from the Github Workspace
          cat ${{ needs.produce-results.outputs.result }}
          echo "The workspace is located at: ${{ needs.produce-results.outputs.Github_Workspace }}"
